var Ce=Object.defineProperty,Te=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var le=(t,e,n)=>e in t?Ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ce=(t,e)=>{for(var n in e||(e={}))Ie.call(e,n)&&le(t,n,e[n]);if(ie)for(var n of ie(e))Pe.call(e,n)&&le(t,n,e[n]);return t},ue=(t,e)=>Te(t,Be(e));const qe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}};qe();function w(){}function ke(t,e){for(const n in e)t[n]=e[n];return t}function $e(t){return t()}function fe(){return Object.create(null)}function U(t){t.forEach($e)}function re(t){return typeof t=="function"}function T(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Me(t){return Object.keys(t).length===0}function De(t,...e){if(t==null)return w;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ve(t){return t&&re(t.destroy)?t.destroy:w}function g(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function He(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function S(){return H(" ")}function oe(){return H("")}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ue(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ye(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}let X;function F(t){X=t}function Q(){if(!X)throw new Error("Function called outside component initialization");return X}function ze(t){Q().$$.on_mount.push(t)}function Fe(t){Q().$$.after_update.push(t)}function Xe(t){Q().$$.on_destroy.push(t)}function Ke(){const t=Q();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const c=Ye(e,n,{cancelable:o});return s.slice().forEach(u=>{u.call(t,c)}),!c.defaultPrevented}return!0}}function de(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const z=[],he=[],G=[],me=[],xe=Promise.resolve();let te=!1;function Ee(){te||(te=!0,xe.then(je))}function We(){return Ee(),xe}function ne(t){G.push(t)}const ee=new Set;let W=0;function je(){const t=X;do{for(;W<z.length;){const e=z[W];W++,F(e),Ge(e.$$)}for(F(null),z.length=0,W=0;he.length;)he.pop()();for(let e=0;e<G.length;e+=1){const n=G[e];ee.has(n)||(ee.add(n),n())}G.length=0}while(z.length);for(;me.length;)me.pop()();te=!1,ee.clear(),F(t)}function Ge(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ne)}}const J=new Set;let B;function V(){B={r:0,c:[],p:B}}function Z(){B.r||U(B.c),B=B.p}function j(t,e){t&&t.i&&(J.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(J.has(t))return;J.add(t),B.c.push(()=>{J.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function Le(t,e){const n={},o={},s={$$scope:1};let c=t.length;for(;c--;){const u=t[c],r=e[c];if(r){for(const i in u)i in r||(o[i]=1);for(const i in r)s[i]||(n[i]=r[i],s[i]=1);t[c]=r}else for(const i in u)s[i]=1}for(const u in o)u in n||(n[u]=void 0);return n}function Ne(t){return typeof t=="object"&&t!==null?t:{}}function I(t){t&&t.c()}function R(t,e,n,o){const{fragment:s,on_mount:c,on_destroy:u,after_update:r}=t.$$;s&&s.m(e,n),o||ne(()=>{const i=c.map($e).filter(re);u?u.push(...i):U(i),t.$$.on_mount=[]}),r.forEach(ne)}function C(t,e){const n=t.$$;n.fragment!==null&&(U(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Je(t,e){t.$$.dirty[0]===-1&&(z.push(t),Ee(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(t,e,n,o,s,c,u,r=[-1]){const i=X;F(t);const l=t.$$={fragment:null,ctx:null,props:c,update:w,not_equal:s,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:fe(),dirty:r,skip_bound:!1,root:e.target||i.$$.root};u&&u(l.root);let d=!1;if(l.ctx=n?n(t,e.props||{},(f,h,..._)=>{const x=_.length?_[0]:h;return l.ctx&&s(l.ctx[f],l.ctx[f]=x)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](x),d&&Je(t,f)),h}):[],l.update(),d=!0,U(l.before_update),l.fragment=o?o(l.ctx):!1,e.target){if(e.hydrate){const f=Ue(e.target);l.fragment&&l.fragment.l(f),f.forEach(k)}else l.fragment&&l.fragment.c();e.intro&&j(t.$$.fragment),R(t,e.target,e.anchor,e.customElement),je()}F(i)}class q{$destroy(){C(this,1),this.$destroy=w}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!Me(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const D=[];function Oe(t,e){return{subscribe:Se(t,e).subscribe}}function Se(t,e=w){let n;const o=new Set;function s(r){if(T(t,r)&&(t=r,n)){const i=!D.length;for(const l of o)l[1](),D.push(l,t);if(i){for(let l=0;l<D.length;l+=2)D[l][0](D[l+1]);D.length=0}}}function c(r){s(r(t))}function u(r,i=w){const l=[r,i];return o.add(l),o.size===1&&(n=e(s)||w),r(t),()=>{o.delete(l),o.size===0&&(n(),n=null)}}return{set:s,update:c,subscribe:u}}function Ae(t,e,n){const o=!Array.isArray(t),s=o?[t]:t,c=e.length<2;return Oe(n,u=>{let r=!1;const i=[];let l=0,d=w;const f=()=>{if(l)return;d();const _=e(o?i[0]:i,u);c?u(_):d=re(_)?_:w},h=s.map((_,x)=>De(_,O=>{i[x]=O,l&=~(1<<x),r&&f()},()=>{l|=1<<x}));return r=!0,f(),function(){U(h),d()}})}function Qe(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,s,c,u=[],r="",i=t.split("/");for(i[0]||i.shift();s=i.shift();)n=s[0],n==="*"?(u.push("wild"),r+="/(.*)"):n===":"?(o=s.indexOf("?",1),c=s.indexOf(".",1),u.push(s.substring(1,~o?o:~c?c:s.length)),r+=!!~o&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(r+=(~o?"?":"")+"\\"+s.substring(c))):r+="/"+s;return{keys:u,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function Ve(t){let e,n,o;const s=[t[2]];var c=t[0];function u(r){let i={};for(let l=0;l<s.length;l+=1)i=ke(i,s[l]);return{props:i}}return c&&(e=new c(u()),e.$on("routeEvent",t[7])),{c(){e&&I(e.$$.fragment),n=oe()},m(r,i){e&&R(e,r,i),v(r,n,i),o=!0},p(r,i){const l=i&4?Le(s,[Ne(r[2])]):{};if(c!==(c=r[0])){if(e){V();const d=e;N(d.$$.fragment,1,0,()=>{C(d,1)}),Z()}c?(e=new c(u()),e.$on("routeEvent",r[7]),I(e.$$.fragment),j(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else c&&e.$set(l)},i(r){o||(e&&j(e.$$.fragment,r),o=!0)},o(r){e&&N(e.$$.fragment,r),o=!1},d(r){r&&k(n),e&&C(e,r)}}}function Ze(t){let e,n,o;const s=[{params:t[1]},t[2]];var c=t[0];function u(r){let i={};for(let l=0;l<s.length;l+=1)i=ke(i,s[l]);return{props:i}}return c&&(e=new c(u()),e.$on("routeEvent",t[6])),{c(){e&&I(e.$$.fragment),n=oe()},m(r,i){e&&R(e,r,i),v(r,n,i),o=!0},p(r,i){const l=i&6?Le(s,[i&2&&{params:r[1]},i&4&&Ne(r[2])]):{};if(c!==(c=r[0])){if(e){V();const d=e;N(d.$$.fragment,1,0,()=>{C(d,1)}),Z()}c?(e=new c(u()),e.$on("routeEvent",r[6]),I(e.$$.fragment),j(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else c&&e.$set(l)},i(r){o||(e&&j(e.$$.fragment,r),o=!0)},o(r){e&&N(e.$$.fragment,r),o=!1},d(r){r&&k(n),e&&C(e,r)}}}function et(t){let e,n,o,s;const c=[Ze,Ve],u=[];function r(i,l){return i[1]?0:1}return e=r(t),n=u[e]=c[e](t),{c(){n.c(),o=oe()},m(i,l){u[e].m(i,l),v(i,o,l),s=!0},p(i,[l]){let d=e;e=r(i),e===d?u[e].p(i,l):(V(),N(u[d],1,1,()=>{u[d]=null}),Z(),n=u[e],n?n.p(i,l):(n=u[e]=c[e](i),n.c()),j(n,1),n.m(o.parentNode,o))},i(i){s||(j(n),s=!0)},o(i){N(n),s=!1},d(i){u[e].d(i),i&&k(o)}}}function pe(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const se=Oe(null,function(e){e(pe());const n=()=>{e(pe())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Ae(se,t=>t.location);Ae(se,t=>t.querystring);const _e=Se(void 0);function Re(t,e){if(e=be(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ge(t,e),{update(n){n=be(n),ge(t,n)}}}function ge(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",o=>{o.preventDefault(),e.disabled||tt(o.currentTarget.getAttribute("href"))})}function be(t){return t&&typeof t=="string"?{href:t}:t||{}}function tt(t){history.replaceState(ue(ce({},history.state),{__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY}),void 0,void 0),window.location.hash=t}function nt(t,e,n){let{routes:o={}}=e,{prefix:s=""}=e,{restoreScrollState:c=!1}=e;class u{constructor(a,m){if(!m||typeof m!="function"&&(typeof m!="object"||m._sveltesparouter!==!0))throw Error("Invalid component object");if(!a||typeof a=="string"&&(a.length<1||a.charAt(0)!="/"&&a.charAt(0)!="*")||typeof a=="object"&&!(a instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:$}=Qe(a);this.path=a,typeof m=="object"&&m._sveltesparouter===!0?(this.component=m.component,this.conditions=m.conditions||[],this.userData=m.userData,this.props=m.props||{}):(this.component=()=>Promise.resolve(m),this.conditions=[],this.props={}),this._pattern=L,this._keys=$}match(a){if(s){if(typeof s=="string")if(a.startsWith(s))a=a.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const A=a.match(s);if(A&&A[0])a=a.substr(A[0].length)||"/";else return null}}const m=this._pattern.exec(a);if(m===null)return null;if(this._keys===!1)return m;const L={};let $=0;for(;$<this._keys.length;){try{L[this._keys[$]]=decodeURIComponent(m[$+1]||"")||null}catch{L[this._keys[$]]=null}$++}return L}async checkConditions(a){for(let m=0;m<this.conditions.length;m++)if(!await this.conditions[m](a))return!1;return!0}}const r=[];o instanceof Map?o.forEach((p,a)=>{r.push(new u(a,p))}):Object.keys(o).forEach(p=>{r.push(new u(p,o[p]))});let i=null,l=null,d={};const f=Ke();async function h(p,a){await We(),f(p,a)}let _=null,x=null;c&&(x=p=>{p.state&&p.state.__svelte_spa_router_scrollY?_=p.state:_=null},window.addEventListener("popstate",x),Fe(()=>{_?window.scrollTo(_.__svelte_spa_router_scrollX,_.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let O=null,E=null;const K=se.subscribe(async p=>{O=p;let a=0;for(;a<r.length;){const m=r[a].match(p.location);if(!m){a++;continue}const L={route:r[a].path,location:p.location,querystring:p.querystring,userData:r[a].userData,params:m&&typeof m=="object"&&Object.keys(m).length?m:null};if(!await r[a].checkConditions(L)){n(0,i=null),E=null,h("conditionsFailed",L);return}h("routeLoading",Object.assign({},L));const $=r[a].component;if(E!=$){$.loading?(n(0,i=$.loading),E=$,n(1,l=$.loadingParams),n(2,d={}),h("routeLoaded",Object.assign({},L,{component:i,name:i.name,params:l}))):(n(0,i=null),E=null);const A=await $();if(p!=O)return;n(0,i=A&&A.default||A),E=$}m&&typeof m=="object"&&Object.keys(m).length?n(1,l=m):n(1,l=null),n(2,d=r[a].props),h("routeLoaded",Object.assign({},L,{component:i,name:i.name,params:l})).then(()=>{_e.set(l)});return}n(0,i=null),E=null,_e.set(void 0)});Xe(()=>{K(),x&&window.removeEventListener("popstate",x)});function M(p){de.call(this,t,p)}function Y(p){de.call(this,t,p)}return t.$$set=p=>{"routes"in p&&n(3,o=p.routes),"prefix"in p&&n(4,s=p.prefix),"restoreScrollState"in p&&n(5,c=p.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=c?"manual":"auto")},[i,l,d,o,s,c,M,Y]}class rt extends q{constructor(e){super(),P(this,e,nt,et,T,{routes:3,prefix:4,restoreScrollState:5})}}function ot(t){let e,n,o,s,c,u,r,i,l,d,f,h,_,x,O,E,K,M,Y,p;return{c(){e=b("div"),n=b("a"),o=b("div"),o.innerHTML='<img src="https://nypost.com/wp-content/uploads/sites/2/2021/08/jfk-t4-restroom-3.jpg" class="object-cover h-40 w-full rounded"/>',c=S(),u=b("div"),r=b("div"),i=b("h3"),l=H(t[0]),d=S(),f=b("p"),h=H(t[1]),_=H("% THRONE-O-SCORE"),x=S(),O=b("div"),E=b("a"),K=H("Navigate"),y(o,"class","bg-gray-200 rounded"),y(n,"href",s="/locations/"+t[0]),y(i,"class","font-bold font-serif text-xl"),y(f,"class","font-black text-sm text-blue-700"),y(r,"class","grow"),y(E,"href",M=encodeURI(`maps:daddr=${t[0]}, ${t[2]}`)),y(E,"class","font-black bg-blue-600 p-5 pt-3 pb-3 inline-block rounded text-white"),y(O,"class","flex-none"),y(u,"class","flex flex-space mt-2 justify-center items-center")},m(a,m){v(a,e,m),g(e,n),g(n,o),g(e,c),g(e,u),g(u,r),g(r,i),g(i,l),g(r,d),g(r,f),g(f,h),g(f,_),g(u,x),g(u,O),g(O,E),g(E,K),Y||(p=ve(Re.call(null,n)),Y=!0)},p(a,[m]){m&1&&s!==(s="/locations/"+a[0])&&y(n,"href",s),m&1&&ae(l,a[0]),m&2&&ae(h,a[1]),m&5&&M!==(M=encodeURI(`maps:daddr=${a[0]}, ${a[2]}`))&&y(E,"href",M)},i:w,o:w,d(a){a&&k(e),Y=!1,p()}}}function st(t,e,n){let{locationName:o}=e,{score:s}=e,{address:c}=e;return t.$$set=u=>{"locationName"in u&&n(0,o=u.locationName),"score"in u&&n(1,s=u.score),"address"in u&&n(2,c=u.address)},[o,s,c]}class it extends q{constructor(e){super(),P(this,e,st,ot,T,{locationName:0,score:1,address:2})}}function ye(t,e,n){const o=t.slice();return o[1]=e[n],o}function we(t){let e,n,o,s,c,u;return n=new it({props:{locationName:t[1].name,score:"80",address:t[1].address}}),{c(){e=b("li"),I(n.$$.fragment),o=S(),s=b("hr"),c=S(),y(s,"class","mt-3"),y(e,"class","mb-4")},m(r,i){v(r,e,i),R(n,e,null),g(e,o),g(e,s),g(e,c),u=!0},p(r,i){const l={};i&1&&(l.locationName=r[1].name),i&1&&(l.address=r[1].address),n.$set(l)},i(r){u||(j(n.$$.fragment,r),u=!0)},o(r){N(n.$$.fragment,r),u=!1},d(r){r&&k(e),C(n)}}}function lt(t){let e,n,o,s,c,u=t[0],r=[];for(let l=0;l<u.length;l+=1)r[l]=we(ye(t,u,l));const i=l=>N(r[l],1,1,()=>{r[l]=null});return{c(){e=b("section"),n=b("h2"),n.textContent="Nearby Bathrooms",o=S(),s=b("ul");for(let l=0;l<r.length;l+=1)r[l].c();y(n,"class","font-serif font-bold text-xl mb-2"),y(e,"class","mt-3")},m(l,d){v(l,e,d),g(e,n),g(e,o),g(e,s);for(let f=0;f<r.length;f+=1)r[f].m(s,null);c=!0},p(l,[d]){if(d&1){u=l[0];let f;for(f=0;f<u.length;f+=1){const h=ye(l,u,f);r[f]?(r[f].p(h,d),j(r[f],1)):(r[f]=we(h),r[f].c(),j(r[f],1),r[f].m(s,null))}for(V(),f=u.length;f<r.length;f+=1)i(f);Z()}},i(l){if(!c){for(let d=0;d<u.length;d+=1)j(r[d]);c=!0}},o(l){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)N(r[d]);c=!1},d(l){l&&k(e),He(r,l)}}}function ct(t,e,n){let o=[];return ze(async()=>{const s=await fetch("http://0.0.0.0:3030/api/locations?lat=0&long=0");n(0,o=await s.json()),console.log(o)}),[o]}class ut extends q{constructor(e){super(),P(this,e,ct,lt,T,{})}}function ft(t){let e,n,o;return n=new ut({}),{c(){e=b("main"),I(n.$$.fragment)},m(s,c){v(s,e,c),R(n,e,null),o=!0},p:w,i(s){o||(j(n.$$.fragment,s),o=!0)},o(s){N(n.$$.fragment,s),o=!1},d(s){s&&k(e),C(n)}}}class at extends q{constructor(e){super(),P(this,e,null,ft,T,{})}}function dt(t){let e;return{c(){e=b("main"),e.innerHTML="<h1>Bathroom Location</h1>"},m(n,o){v(n,e,o)},p:w,i:w,o:w,d(n){n&&k(e)}}}class ht extends q{constructor(e){super(),P(this,e,null,dt,T,{})}}function mt(t){let e;return{c(){e=b("main"),e.innerHTML="<h1>Leave a review</h1>"},m(n,o){v(n,e,o)},p:w,i:w,o:w,d(n){n&&k(e)}}}class pt extends q{constructor(e){super(),P(this,e,null,mt,T,{})}}function _t(t){let e,n,o,s,c,u,r,i,l,d,f;return u=new rt({props:{routes:{"/":at,"/locations/:location":ht,"/locations/:location/review":pt}}}),{c(){e=b("h1"),n=b("a"),n.textContent="Rate-a-loo",o=S(),s=b("hr"),c=S(),I(u.$$.fragment),r=S(),i=b("div"),i.innerHTML='<input type="search" placeholder="Search for a place to poop..." class="w-full shadow-lg rounded border p-2"/>',y(n,"href","/"),y(e,"id","title"),y(e,"class","text-4xl font-serif font-black mb-3"),y(i,"class","fixed bottom-5 w-full right-0 p-8 pb-4")},m(h,_){v(h,e,_),g(e,n),v(h,o,_),v(h,s,_),v(h,c,_),R(u,h,_),v(h,r,_),v(h,i,_),l=!0,d||(f=ve(Re.call(null,n)),d=!0)},p:w,i(h){l||(j(u.$$.fragment,h),l=!0)},o(h){N(u.$$.fragment,h),l=!1},d(h){h&&k(e),h&&k(o),h&&k(s),h&&k(c),C(u,h),h&&k(r),h&&k(i),d=!1,f()}}}class gt extends q{constructor(e){super(),P(this,e,null,_t,T,{})}}new gt({target:document.getElementById("app")});
